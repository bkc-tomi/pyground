from django.shortcuts import render
from django.urls      import reverse
from django.http      import HttpResponse, HttpResponseRedirect

"""
----------------------------------------------------------------------
ブックマーク／一覧表示
----------------------------------------------------------------------
"""
def index(request, user_id):
    """
    ---------------------------------------------------------
    セッション
    ---------------------------------------------------------
    """
    if 'login_user' not in request.session:
        return HttpResponseRedirect(reverse('top:top'))
    
    login_user = request.session['login_user']

    """z
    ---------------------------------------------------------
    値取得
    ---------------------------------------------------------
    """

    """
    ---------------------------------------------------------
    バリデーション
    ---------------------------------------------------------
    """
    """
    ---------------------------------------------------------
    前処理
    ---------------------------------------------------------
    """

    """
    ---------------------------------------------------------
    データベース保存
    ---------------------------------------------------------
    """

    """
    ---------------------------------------------------------
    後処理
    ---------------------------------------------------------
    """

    """
    ---------------------------------------------------------
    描画データ取得
    ---------------------------------------------------------
    """

    """
    ---------------------------------------------------------
    ページ遷移
    ---------------------------------------------------------
    """
    return render(request, 'bookmark/index.html', {
        'user_id': user_id,
    })

"""
----------------------------------------------------------------------
ブックマーク／ブックマーク処理
----------------------------------------------------------------------
"""
def run_bookmark(request, user_id, question_id):
    """
    ---------------------------------------------------------
    セッション
    ---------------------------------------------------------
    """
    if 'login_user' not in request.session:
        return HttpResponseRedirect(reverse('top:top'))
    
    login_user = request.session['login_user']

    """
    ---------------------------------------------------------
    値取得
    ---------------------------------------------------------
    """

    """
    ---------------------------------------------------------
    バリデーション
    ---------------------------------------------------------
    """
    """
    ---------------------------------------------------------
    前処理
    ---------------------------------------------------------
    """

    """
    ---------------------------------------------------------
    データベース保存
    ---------------------------------------------------------
    """

    """
    ---------------------------------------------------------
    後処理
    ---------------------------------------------------------
    """

    """
    ---------------------------------------------------------
    描画データ取得
    ---------------------------------------------------------
    """

    """
    ---------------------------------------------------------
    ページ遷移
    ---------------------------------------------------------
    """
    # 前のページにリダイレクト
    return HttpResponseRedirect(request.META.get("HTTP_REFERER"))

"""
----------------------------------------------------------------------
ブックマーク／ブックマーク解除
----------------------------------------------------------------------
"""
def release(request, user_id, question_id):
    """
    ---------------------------------------------------------
    セッション
    ---------------------------------------------------------
    """
    if 'login_user' not in request.session:
        return HttpResponseRedirect(reverse('top:top'))
    
    login_user = request.session['login_user']

    """
    ---------------------------------------------------------
    値取得
    ---------------------------------------------------------
    """

    """
    ---------------------------------------------------------
    バリデーション
    ---------------------------------------------------------
    """
    """
    ---------------------------------------------------------
    前処理
    ---------------------------------------------------------
    """

    """
    ---------------------------------------------------------
    データベース保存
    ---------------------------------------------------------
    """

    """
    ---------------------------------------------------------
    後処理
    ---------------------------------------------------------
    """

    """
    ---------------------------------------------------------
    描画データ取得
    ---------------------------------------------------------
    """

    """
    ---------------------------------------------------------
    ページ遷移
    ---------------------------------------------------------
    """
    # 前のページにリダイレクト
    return HttpResponseRedirect(request.META.get("HTTP_REFERER"))